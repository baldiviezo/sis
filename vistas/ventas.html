<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<script src="scripts/sesionIniciada.js"></script>
	<title>Ventas</title>
	<link rel="icon" href="../imagenes/icono.ico">
	<link rel="stylesheet" type="text/css" href="../css/general.css">
	<link rel="stylesheet" type="text/css" href="../css/encabezamiento.css">
	<link rel="stylesheet" type="text/css" href="../css/buttonCRUD.css">
	<link rel="stylesheet" type="text/css" href="../css/paginacion.css">
	<link rel="stylesheet" type="text/css" href="../css/table.css">
	<link rel="stylesheet" type="text/css" href="../css/userModal.css">
	<link rel="stylesheet" href="../css/venta.css">
</head>

<body class="body">
	<header class="header">
		<nav class="header__nav header__container">
		</nav>
	</header>
	<main class="table">
		<div class="table__title">
			<h1>Ventas</h1>
		</div>
		<section class="table__header">
			<h1 id="totalVentas">Total:</h1>
			<div>
				<img src="../imagenes/inventario.svg" id="openProdVnt" title="Productos comprados">
				<img src="../imagenes/excel.svg" id="excelVnt" title="Imprimir a excel">
			</div>
			<section class="select__search">
				<div>
					<label>Fecha de venta:</label>
					<select id="selectDateVnt" class="select__number"></select>
				</div>
				<div>
					<label>Mes de venta:</label>
					<select id="selectMonthVnt" class="select__number">
						<option value="todas">Todo</option>
						<option value="01">Enero</option>
						<option value="02">Febrero</option>
						<option value="03">Marzo</option>
						<option value="04">Abril</option>
						<option value="05">Mayo</option>
						<option value="06">Junio</option>
						<option value="07">Julio</option>
						<option value="08">Agosto</option>
						<option value="09">Septiembre</option>
						<option value="10">Octubre</option>
						<option value="11">Noviembre</option>
						<option value="12">Diciembre</option>
					</select>
				</div>	
				<div>
					<label>Estado venta:</label>
					<select id="stateFactured" class="select__number">
						<option value="todas">Todo</option>
						<option value="1">Con factura</option>
						<option value="0">Sin factura</option>
					</select>
				</div>
			</section>
			<div class="combo__search">
				<div class="filter__search">
					<h3>Filtrar por:</h3>
					<select id="selectSearchVnt" class="select">
						<option value="todas">Todo</option>
						<option value="numero_prof">Proforma</option>
						<option value="fecha_ne">Fecha de NE</option>
						<option value="fecha_vnt">Fecha de venta</option>
						<option value="fecha_factura_vnt">Fecha de factura</option>
						<option value="nombre_emp">Empresa</option>
						<option value="cliente_clte">Cliente</option>
						<option value="factura_vnt">N° Factura</option>
						<option value="ciudad_vnt">Ciudad</option>
						<option value="tipo_pago_vnt">Metodo de pago</option>
						<option value="encargado">Encargado</option>
						<option value="orden_ne">Orden compra</option>
					</select>
				</div>
				<div class="table__search">
					<input type="search" id="inputSerchVnt" placeholder="Search Data...">
					<img src="../imagenes/search.png">
				</div>
			</div>
		</section>
		<div class="showPage" id="showPageVenta">
			<h2></h2>
		</div>
		<div class="container__page">
			<div class="paginacion">
				<!--Envoltura-->
				<div class="wrapper" id="wrapperVenta">
					<ul></ul>
				</div>
			</div>
			<div>
				<select id="selectNumberVnt" class="select__number">
					<option value="2">2</option>
					<option value="4">4</option>
					<option value="6">6</option>
					<option value="10">10 </option>
					<option value="20">20</option>
				</select>
			</div>
		</div>
		<section class="table__body">
			<table>
				<thead>
					<tr>
						<th>N°</th>
						<th>
							<div class="tbody__head--venta">Proforma<img src="../imagenes/sortA_Z.svg"
									name="numero_prof" class="icon__CRUD"><img src="../imagenes/sortZ_A.svg"
									name="numero_prof" class="icon__CRUD"></div>
						</th>
						<th>Cliente</th>
						<th>
							<div class="tbody__head--venta">Fecha NE<img src="../imagenes/sortA_Z.svg" name="fecha_ne"
									class="icon__CRUD"><img src="../imagenes/sortZ_A.svg" name="fecha_ne"
									class="icon__CRUD"></div>
						</th>
						<th>
							<div class="tbody__head--venta">Fecha Venta <img src="../imagenes/sortA_Z.svg"
									name="fecha_vnt" class="icon__CRUD"><img src="../imagenes/sortZ_A.svg"
									name="fecha_vnt" class="icon__CRUD"></div>
						</th>
						<th>Orden compra</th>
						<th>Total</th>
						<th>Encargado</th>
						<th>Ciudad</th>
						<th>Metodo pago</th>
						<th>
							<div class="tbody__head--venta">Fecha factura<img src="../imagenes/sortA_Z.svg"
									name="fecha_factura_vnt" class="icon__CRUD"><img src="../imagenes/sortZ_A.svg"
									name="fecha_factura_vnt" class="icon__CRUD"></div>
						</th>
						<th>
							<div class="tbody__head--venta">Factura<img src="../imagenes/sortA_Z.svg" name="factura_vnt"
									class="icon__CRUD"><img src="../imagenes/sortZ_A.svg" name="factura_vnt"
									class="icon__CRUD"></div>
						</th>
						<th>Observaciones</th>

						<!--<th>Acciones</th>-->
					</tr>
				</thead>
				<tbody id="tbodyVenta"></tbody>
			</table>
		</section>
	</main>
	<!--Tabla modal de productos vendidos-->
	<section id="tableProdVnt" class="modalTable">
		<div class="modalTable__container">
			<div class="table">
				<div class="table__title">
					<h1><img src="../imagenes/producto.svg">Productos</h1>
					<img src="../imagenes/salir.svg" id="closeTableProdVnt" class="button__close">
				</div>
				<section class="table__header">
					<h1 id="totalProdVnt">TOTAL:</h1>
					<div>
						<img src="../imagenes/trophy.svg" onclick="openTableMostProd()" title="Productos mas vendidos">
						<img src="../imagenes/excel.svg" id="excelProdVnt" title="Imprimir a excel">
					</div>
					<section class="select__search">
						<div>
							<label>Fecha de venta:</label>
							<select id="selectDateVntProd" class="select__number"></select>
						</div>
						<div>
							<label>Estado venta:</label>
							<select id="stateFacturedProd" class="select__number">
								<option value="todas">Todo</option>
								<option value="1">Con factura</option>
								<option value="0">Sin factura</option>
							</select>
						</div>
					</section>
					<div class="combo__search">
						<div class="filter__search">
							<h3>Filtrar por:</h3>
							<select id="selectSearchProdVnt" class="select">
								<option value="todas">Todo</option>
								<option value="numero_prof">N° Proforma</option>
								<option value="fecha_ne">Fecha Nota entrega</option>
								<option value="fecha_vnt">Fecha de facturacion</option>
								<option value="encargado">Encargado</option>
								<option value="nombre_emp">Empresa</option>
								<option value="cliente">Cliente</option>
								<option value="codigo_vtpd">Codigo producto</option>
								<option value="nombre_prod">Descripción</option>
								<option value="cantidad_vtpd">Cantidad producto</option>
								<option value="factura_vnt">N° Factura</option>
							</select>
						</div>
						<div class="table__search">
							<input type="search" id="inputSearchProdVnt" placeholder="Buscar...">
							<img src="../imagenes/search.png">
						</div>
					</div>
				</section>
				<div class="showPage" id="showPageProf">
					<h2></h2>
				</div>
				<div class="container__page">
					<div class="paginacion">
						<div class="wrapper" id="wrapperProf">
							<ul></ul>
						</div>
					</div>
					<div>
						<select id="selectNumberProdVnt" class="select__number">
							<option value="2">2</option>
							<option value="4">4</option>
							<option value="6">6</option>
							<option value="10">10 </option>
							<option value="20">20</option>
						</select>
					</div>
				</div>
				<section class="table__body">
					<table>
						<thead>
							<tr>
								<th>N°</th>
								<th>Proforma</th>
								<th>Fecha NE</th>
								<th>Fecha factura</th>
								<th>Encargado</th>
								<th>Empresa</th>
								<th>Cliente</th>
								<th>Marca</th>
								<th>Categoria</th>
								<th>Codigo</th>
								<th>Descripcion</th>
								<th>N° Factura</th>
								<th>cantidad</th>
								<th>Cost uni.</th>
								<th>Subtotal</th>
								<th>Descuento</th>
								<th>Total</th>
							</tr>
						</thead>
						<tbody id="tbodyProdVnt">
						</tbody>
					</table>
				</section>
			</div>
		</div>
	</section>
	<!--Modal de filtros de producto mas vendidos y rentable-->
	<section id="tableMostProd" class="modalTable">
		<div class="modalTable__container">
			<div class="table">
				<div class="table__title">
					<h1><img src="../imagenes/producto.svg">Productos</h1>
					<img src="../imagenes/salir.svg" id="closeTableMostProd" class="button__close">
				</div>
				<section class="table__header">
					<form class="fechas" id="formDates">
						<div>
							<label class="fecha__label">Fecha inicial:</label>
							<input type="date" id="startingDate" min="2024-07-01" value="2024-07-01"
								class="fecha__input">
							<label class="fecha__label">Fecha final:</label>
							<input type="date" id="endDate" class="fecha__input">
						</div>
						<div class="ecuacion">
							<div class="ecuacion__title1">Consumo promedio mensual</div>
							<div class="ecuacion__title2">=</div>
							<div class="ecuacion__title3">Total vendido en n meses</div>
							<input type="number" id="numberMoths" min="1" value="1" class="ecuacion__input">
							<div class="ecuacion__title9">[Mes/es]</div>
							<div class="ecuacion__title4">Cantidad a reponer</div>
							<div class="ecuacion__title5">=</div>
							<div class="ecuacion__title6">Consumo promedio mensual</div>
							<div class="ecuacion__title7">*</div>
							<div class="ecuacion__title10">[Mes/es]</div>
							<div class="ecuacion__title11">+</div>
							<div class="ecuacion__title12">Consumo promedio mensual</div>
							<div class="ecuacion__title13">*</div>
							<div class="ecuacion__title8">30 [dias]</div>
							<input type="number" id="daysLate" min="0" value="5" class="ecuacion__input">
							<input type="number" id="mothsReplacement" min="1" value="1" class="ecuacion__input">
							<div class="ecuacion__title14">[dias]</div>
							<div class="ecuacion__title15">-</div>
							<div class="ecuacion__title16">Inventario actual</div>
						</div>
						<button type="submit" class="fecha__button">Filtrar</button>
						<img src="../imagenes/excel.svg" title="Imprimir a excel" id="excelProdReponer"
							class="button__excel">
					</form>
				</section>
				<div class="showPage" id="showPageMostProd">
					<h2></h2>
				</div>
				<div class="container__page">
					<div class="paginacion">
						<div class="wrapper" id="wrapperMostProd">
							<ul></ul>
						</div>
					</div>
					<div>
						<select id="selectNumberMostProd" class="select__number">
							<option value="2">2</option>
							<option value="4">4</option>
							<option value="6">6</option>
							<option value="10">10 </option>
							<option value="20">20</option>
						</select>
					</div>
				</div>
				<section class="table__body">
					<table>
						<thead>
							<tr>
								<th>N°</th>
								<th>
									<div class="tbody__head--MP">Codigo<img src="../imagenes/sortA_Z.svg"
											name="codigo_vtpd" class="icon__CRUD"><img src="../imagenes/sortZ_A.svg"
											name="codigo_vtpd" class="icon__CRUD"></div>
								</th>
								<th>
									<div class="tbody__head--MP">Cantidad<img src="../imagenes/sortA_Z.svg"
											name="cantidad_vtpd" class="icon__CRUD"><img src="../imagenes/sortZ_A.svg"
											name="cantidad_vtpd" class="icon__CRUD"></div>
								</th>
								<th>
									<div class="tbody__head--MP">Costo Total<img src="../imagenes/sortA_Z.svg"
											name="costoTotal" class="icon__CRUD"><img src="../imagenes/sortZ_A.svg"
											name="costoTotal" class="icon__CRUD"></div>
								</th>
								<th>
									<div>Stock</div>
								</th>
								<th>
									<div class="tbody__head--MP">Reponer<img src="../imagenes/sortA_Z.svg"
											name="reponer" class="icon__CRUD"><img src="../imagenes/sortZ_A.svg"
											name="reponer" class="icon__CRUD"></div>
								</th>
							</tr>
						</thead>
						<tbody id="tbodyMostProd">
						</tbody>
					</table>
				</section>
			</div>
		</div>
	</section>
	<!--Modal preloader-->
	<section id="preloader" class="preloader">
		<div class="modal__loader">
			<div class="lds-spinner">
				<div></div>
				<div></div>
				<div></div>
				<div></div>
				<div></div>
				<div></div>
				<div></div>
				<div></div>
				<div></div>
				<div></div>
				<div></div>
				<div></div>
			</div>
		</div>
	</section>
	<!--Alerta-->
	<div id="alerta" class="container__alert">
		<div class="alert">
			<p id="mensaje-alerta"></p>
			<button id="botonAceptar">Aceptar</button>
		</div>
	</div>
	<script src="scripts/header.js"></script>
	<script src="scripts/venta.js"></script>
	<script src="scripts/filesaver.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.16.2/xlsx.full.min.js"></script>
</body>

</html>